<?php
if (isset($_SESSION["OTP"])) {
    ?>
    <style>
        .def-txt-input {
            text-align: center;
        }
    </style>
    <form method="post">
        <fieldset>
            <label>
                OTP
                <input type="text" maxlength="1" class="def-txt-input" name="chars[1]">
                <input type="text" maxlength="1" class="def-txt-input" name="chars[2]">
                <input type="text" maxlength="1" class="def-txt-input" name="chars[3]">
                <input type="text" maxlength="1" class="def-txt-input" name="chars[4]">
                <input type="text" maxlength="1" class="def-txt-input" name="chars[5]">
                <input type="text" maxlength="1" class="def-txt-input" name="chars[6]">
            </label>
        </fieldset>
    </form>
    <script>
        let $inputs = $(".def-txt-input");
        let intRegex = /^\d+$/;

        // Prevents user from manually entering non-digits.
        $inputs.on("input.fromManual", function () {
            if (!intRegex.test($(this).val())) {
                $(this).val("");
            }
        });


        // Prevents pasting non-digits and if value is 6 characters long will parse each character into an individual box.
        $inputs.on("paste", function () {
            let $this = $(this);
            let originalValue = $this.val();

            $this.val("");

            $this.one("input.fromPaste", function () {
                let $currentInputBox = $(this);

                let pastedValue = $currentInputBox.val();

                if (pastedValue.length === 6 && intRegex.test(pastedValue)) {
                    pasteValues(pastedValue);
                } else {
                    $this.val(originalValue);
                }

                $inputs.attr("maxlength", 1);
            });

            $inputs.attr("maxlength", 6);
        });


        // Parses the individual digits into the individual boxes.
        function pasteValues(element) {
            let values = element.split("");

            $(values).each(function (index) {
                let $inputBox = $('.def-txt-input[name="chars[' + (index + 1) + ']"]');
                $inputBox.val(values[index])
            }).after(
                $("form").submit()
            );
        }
    </script>
    <?php
} else {
    echo "<h1>Hippity Hoppity get off my property</h1><br><pre style='white-space: pre;
    font-family: monospace;
    font-size: 12px;
    line-height: 12px;
    letter-spacing: unset;
    transform: unset;
    overflow-y: hidden;'>
                 *@@@@@                                                                                                                                                     
                      @:  @@@@                                                                                                                                                   
                     @# *@::%@@@                                                                                                                                                 
                    @% @@*%*. =@@@:                                                                                                                                              
                 =@+  ++   :%%: .%@@*                                                                                                                                            
              %@@@@@@-:@@=   .@%:  %@@@                                                                                                                                          
             @+*#@%%@* @+@@#    @@#.:#@@@:                                                                                                                                       
            @=*@@%%%@= @#**@@@#   =@%- =%@@@                                                                                                                                     
           @%+@%%%%@@ @#:+%#**@@@=   #@*-=*@@@:                                                                                                                                  
           @-@@%%%@@:+%++= :%%#*#@@@:  %%*+=*%@@*                                                                                                                                
           @=@@@@@@ *@+++***: =%%#*#@@#  =##*+*#@@@                                                  @@                       @@@@@                                              
           @:      @#==*+++***=  =%%#*%@@-  =%****@@@:                                             :@@@@=                   -@*++*@@=                                            
            @@%*#@%+===++*++++***= .+%%##@@@:  *#*+*%@@@                                           @@%%@@@                  @%***@@@@@::@@@@@@@@@.                               
             @@@@+=*#%*+===++++++***=  =%%##@@@  =**++#%@@.                                       :@%%%%%@@:            @@@@#++*+=*%@@@@%#****+%@+                               
                @@@@#***##**==+++++****=..=***#@@#  =+==*%@@@                                     @@%%%%%%@@#         @@%===*****++===+******%@%@@                               
                   *@@@@****#**+===*+***##+=*#***%@@*+====+*@@@=                                  @@%%%%%%%%@@      @@%=+**********++*##*****#%%%@@                              
                       #@@@@****##*+==*%@%***++*##**#@@%======#@@@                                @@%%%%%%%%%%@@  =@@+=+**********#%##******+%%%%%@@:                            
                           @@@@@#***%#    +#%#**+=*****#%@%+====+%@@=                             @@%%%%%%%%%%%%@%@#=+***********+***********@%%%%%@@*                           
                               +@@@@%#%@@+   :*@%%*++******%@%*====*@@@                           %@%%%%%%%%%%%%*%@*===***********#*********%%%%%%%%@+                           
                                   .@@@@##%@@=   .*@%#*=+**#**%@%+-=-=%@@+                        .@%%%%%%%%@@@@@*%@@@%+==+++****##********#@%%%%%%%@*                           
                                       =@@@@%%@@#    :%@%**=+*#**%@@+==-*@@@                      :@@%%%%%%@@* -%@**%%@@@%%#+====*********%%%%%%%%%%@      *@@@@@@@@@@           
                                           +@@@@@%@#.    -*%%*+*****%@%*===*@@@@@@@+               *@%%%%%%*::::.=%#+*%@@@@@@@@@%##*****#@%%%%%%%%@@@@@@@@@%%%%%%%%%@@           
                                               =@@@@@@*     .=%%#******#@@+=:**===+*@@@.            @@%%%@%@@@@@%%@%@%*+++*#%@@%@@@@@@@@@@@@@@@@@@%*==-=*#%%%%%%%%%%%@           
                                                   .@@@@@@#      =@#*==+==*@@*#===+====@@           @@@%%@@@@@*=::++%@#@%**+*+****+**+====+#*===---=#@@@%%%%%%%%%%%%@@           
                                                       -@@@@@%      =%%%%@%%=%@%+=-====-+@           @@@@%:::::::...--::.%@@*+==++***++*++=====+%@@@%+%%%%%%%%%%%%%@@-           
                                                           :@@@@#-:=#=======@%-+%@****=:=@             #@@@#:: ... :=::=%@+=*%@%%#**+====+*%@@@%+:::#%#%%%%%%%%%%@@@.            
                                                               :@@@@#===+++==%#==*%==+==@@@@            @.=@@==--===%%@@#++*+===+**#%%%@@%%*@+=@#::::#@%%%%%%%%%@@@              
                                                                   =@=+++++*-*@%+=%#==+=@%+*@@%@@%:    @=  :@@@@@@@@**===##********+++*@::-=====%@@@%%%%%%%%%@@@@                
                                                                    @*==-=:. =@@***@+==:*%%@#+%===@@  @= :..::-====-::=*:--+###*******+%%=:-====-:@@%%%%%%%@@@%                  
                                                                    +@*==++++*@%%%**@===#%==*%#==+=@  @%.     ...::::::..+@#==+*+**####*@@==+====::#@@%%%@@@-                    
                                                                      @@@@@@@*%@@@@%@*==#@=+*%*=+=:@@@@=%@@@@@@-...........*:==@@@+====-.*@+==*#@%=*=@@@@@                       
                                                                            -#%@@@@@@+=+-%+**#=====%%#==.-@==+**@@@@@@@@@#=:.  ...:=:..::..:=*++=-%#*@@=                         
                                                                                    *====%@%@%==+=*%%====*@@==@  .::-==+*##%%@@@@=. ........-*+=---%@                            
                                                                                   *@#==-:@%@#====%#====*@@%==+@  .     .:=++=-:-%@@@@*======--=@@--#-                           
                                                                                    .@@@@@#*%=--=%%====*%%%%+:=@=:     . .  . :==::::*@@@@@@%%%@%@*%@-                           
                                                                                          @=%%**#@=--=%%%@*-::%@%@@@#+=---===+*======-:::-++----=@@.                             
                                                                                          %@*%%@@%=+*@@%+=-=%@@=*@*=#@@@@@*=--:::::::::::*@@@@@*                                 
                                                                                           :%++++%@@#%%+==#%%*==+==@@--%*.:*@@@@@@@@@@@@@+:====@                                 
                                                                                            @*#***+=%%*@%@%@@%===+*==*@#+%@%%%*:.:#%::-=:.  =+=#@                                
                                                                           :@@@@:           @==*##**=%*:--:%%@@@%+===+=+@#=====*%=::::+..:-:  :-=@.                              
                                                                           @%.:*@@@        @#====*%#*-@-=+-@+--%@@@%++=+@===-=#@@@@%%%@* ..  . .::+@                             
                                                                         :@%==++:.@@.      @=+++===*#=@%==:@*=-::-%@@%*++#@@%@@%**@@@@*=  *@@**. .::%*                           
                                                                         @%==+*+-::@@%     @=:=*======@%--%%====-::=@@@@#+*****+===+%+@@+@* @%*@@@@@@@@=                         
                                                                        =@===+=  ::.:@@=   @=:.*==**@%@--%@======-@@:::%@@**+=+*+***@=-:@% -%@#     .#@@@@                       
                                                                        :%=+++=.-:+*::+@#  @==:=+%*%+--=@#--=====:%@:@#**@%+**+++++=@%===*=====+****: :: =@                      
                                                                        +@=+=++*=::*%:.:@@%@%=*##+=--+@@=:-======:*@%*=*%@@%%%%##%%%*==+=============+**#%@                      
                                                                        =@=++++++-:::@@..:@@@*-==*@@%@@--=========::*@+: --===++=-=======#*+***+=+*******@*                      
                                                                        :@=++++=+*-:::@@.::.@%@@%*-*#::-======++***+=-%@@%@@+---%%*++++==@@@*=+**+**@@@@@                        
                                                                        .@=+=+++++*:::.@*.-::%@--==--======+**+.... =+-=@=**#%%%*=- -+===% :@@@@@@@@=                            
                                                                        .@==+++=+=*+.: *@- :::@@-=======+**+...   .  . +@=****=+%%%======@                                       
                                                                        .@+=*+==+**::- +@#.. :%%==*+===++. ..      ...   .@#%%%%%-===%@=%@@#                                     
                                                                         @* :*++**:.=**+%=* .==@@-+====.   ..    ..:..   . :*@*---*@===%%*#@@*      -%@@@@@@@@@@@@%              
                                                                         *@=.=+++..=**=@#:+==*-%@-=====*.. .......  ..:..-  =@=-*@@-+%@%%%%#%@@@@@@@%*==.    .  :-*@@-           
                                                                          @@=+++++=:*=%%:====*-%@-=====+= . .......:.  ..   -*%@%%==@@%*%%%%%%%%%----::=*@@%=-***==*@%           
                                                                          =@*==+==**=@#:======:@@-*=====*+  . .  .  ..::.. *=:::%@*%%%#+=========%@%%@@@%+==*%#*+*@@#            
                                                                           @@+===%*-%%:=====*=#@%:=======*+*=:.  .      .-***++=-=%@%#**#*+***+=+@=-----==****=+@@@              
                                                                            @@===#+*%=:=::-++-#@=:==========+*+*****+=-**+=======::@%+****++*++*%#=***#*****=#@@@                
                                                                             @*==*=%*=*****++-#%:===================++++=========::@@+*****++=*%@*+#*****++%@@=                  
                                                                             @%==-*@++*===+++=%@=:==============================:*@@@%********%@++*+==+*@@@@                     
                                                                             @@++=#%#=+==++++=-@@--==========================-::%@#-=@***+++%@*-=%@@@@@@-                        
                                                                             @%===*@=@%=-==+++=:=@======================-::::=%@@=::=%*+*#@@%#@%%.                               
                                                                             @==+++@@ %@%--===++=::===============--::::-*%@@@%:--===*@@@@%*%*#%@@@@@@@@%: :=                    
                                                 %@@@@:        :=:        :%@==+- .=@@  @@@=--==++=-::::::-=======**%@@@@#+-----=+*%%%%*==+@%%#*=+*%@%#%@@@%#@@%                 
                                              @@@*::-=%@@@@@@@@@#%@@@@@@%*+*+=+*:::-=@@   *@@@#----=%@@@@*-::::-=====:-------+%%%%@%==+%%%%=#%%*%@+-==: :=%@@@@@                 
                                            @@@=-+**%@@=-:-=++==-=-=====%%@%==+:. -=+#@@      @@@@@@@-  *@@@@@%---:::-=%@@@@@@@%===@@@@@=-==-==@@ @@@@@@%%@@                     
                                =@%.      @@@--=***@%+-=#%%*++*##%####=@#======--=*#*==@%                    .@@@@@@@@@@@=   *@@@@@@  %@@@@@@@@@-     +===:                      
                              @@*=-+@@@@@@@+==*#%@%=-==#%*%%%#*==++++==%%====+@@**+*%@@@                                                                                         
                        %%@@@%==@@@@@@=-=--==-===--=*@@@@@@@@@@@@@%#@@@@==+++@@@@@@@*                                                                                            
                     *@@*===--@*-. :====+**%@@%:===+*@            @#-==--+==-=%#                                                                                                 
                    #@+======*@****+**%@@@@@-. .=====*@@        %@%-==:.:===*%@@                                                                                                 
                     :@@@@@@@@*:@@@@@@*:   @@@@@@@@@@@=          @@@@@%*#@@@@=                                                                                                   
                                                                     =%@%*                                                                                                       </pre>";
}
?>